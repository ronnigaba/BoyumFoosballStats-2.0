@page "/PlayerDashboard"
@page "/PlayerDashboard/{PlayerId}"


<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-6 px-0 px-sm-6">
    <MudGrid Justify="Justify.FlexEnd">
        @if (ViewModel.SelectedPlayer != null)
        {
            <MudItem xs="8">
                <PlayerCard @bind-SelectedPlayer="ViewModel.SelectedPlayer">
                        <MudGrid>
                            <MudItem xs="6">
                                <MudPaper Elevation="2" Class="pa-4 rounded-lg">
                                    <MudText Typo="Typo.h6">Win Rate</MudText>
                                    @if (ViewModel.WeekChartData.Any())
                                    {
                                        <WeekChart Data="ViewModel.WeekChartData"></WeekChart>
                                    }
                                </MudPaper>
                            </MudItem>
                        </MudGrid>
                </PlayerCard>
            </MudItem>
        }
        <MudItem xs="@ViewModel.RankingsColumnXs" lg="@ViewModel.RankingsColumnLg">
            @if (ViewModel.Players.Any())
            {
                <PlayerRankingsTable Players="@ViewModel.Players" SelectedPlayer="ViewModel.SelectedPlayer" SelectedPlayerChanged="ViewModel.HandlePlayerClicked"/>
            }
        </MudItem>
    </MudGrid>
</MudContainer>